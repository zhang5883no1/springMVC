
package cn.base.crm.webservice;

/**
 * Please modify this class to meet your needs
 * This class is not complete
 */

import java.net.URL;
import java.util.Date;

import javax.xml.namespace.QName;

import org.json.JSONArray;
import org.json.JSONObject;

import cn.base.util.AppendFile;
import cn.entity.local.CRM_Entity;
import cn.entity.local.CRM_Entity2;

/**
 * This class was generated by Apache CXF 3.1.6
 * 2016-04-28T09:45:53.773+08:00
 * Generated source version: 3.1.6
 * 
 */
public final class WebServiceSoap_WebServiceSoap_Client {

    private static final QName SERVICE_NAME = new QName("http://tempuri.org/", "WebService");

    public WebServiceSoap_WebServiceSoap_Client() {
    }

    public static String client(String s){
    	 Date date=new Date();
    	 URL wsdlURL = WebService.WSDL_LOCATION;
         WebService ss = new WebService(wsdlURL, SERVICE_NAME);
         WebServiceSoap port = ss.getWebServiceSoap();  
         System.out.println("send info : "+s);
//         AppendFile.write(date.getDate()+".txt","D:\\"+date.getYear()+"\\"+date.getMonth(), "send info : "+s+"\r\n");
         java.lang.String _setData__return = port.setData(s);
         System.out.println("get info : "+_setData__return);
//         AppendFile.write(date.getDate()+".txt","D:\\"+date.getYear()+"\\"+date.getMonth(), "get info : "+_setData__return+"\r\n");
         return _setData__return;
    }
    
    public static String getData(String s){
    	URL wsdlURL = WebService.WSDL_LOCATION;
        WebService ss = new WebService(wsdlURL, SERVICE_NAME);
        WebServiceSoap port = ss.getWebServiceSoap(); 
        System.out.println("transformData");
        System.out.println("send info : "+s+"\r\n");
        java.lang.String _setData__return = port.transformData(s);
        System.out.println("get info : "+_setData__return+"\r\n");
        return _setData__return;
    }
    public static void main(String args[]) throws java.lang.Exception {
//        URL wsdlURL = WebService.WSDL_LOCATION;
//        if (args.length > 0 && args[0] != null && !"".equals(args[0])) { 
//            File wsdlFile = new File(args[0]);
//            try {
//                if (wsdlFile.exists()) {
//                    wsdlURL = wsdlFile.toURI().toURL();
//                } else {
//                    wsdlURL = new URL(args[0]);
//                }
//            } catch (MalformedURLException e) {
//                e.printStackTrace();
//            }
//        }
//      
//        WebService ss = new WebService(wsdlURL, SERVICE_NAME);
//        WebServiceSoap port = ss.getWebServiceSoap();  
        
        System.out.println("Invoking setData...");
//        String str_json = "{\"TaskGuid\":\"b4026263-704e-4e12-a64d-f79cb42962cc\",\"DataType\":\"CustomerWebInport\",\"InitialMoney\":0.0,"
//			       + "\"AdditionalMoney\":0.0,\"CleanMoney\":0.0,\"NickName\":\"\",\"Age\":\"23\",\"AgeName\":\"3\",\"l_url\":\"\","
//			       + "\"r_url\":\"\",\"WorkingState\":\"120\",\"WorkingStateName\":\"\",\"PhoneState\":\"80\",\"PhoneStateName\":\"\","
//			       + "\"Source\":\"160\",\"SourcesName\":\"\",\"ResourcesState\":\"160\",\"ResourcesStateName\":\"\",\"SystemName\":\"\","
//			       + "\"SystemGuid\":\"\",\"FenPeiNumber\":0,\"IsKaiHu\":\"\",\"Check\":false,\"Phone1\":\"18973112709\","
//			       + "\"Phone2\":\"\",\"QQ\":\"\",\"Remark\":\"gasdg\",\"Phone3\":\"\",\"Address\":\"asdfasdfasd\",\"OrgID\":\"A3A1\","
//			       + "\"EmplGuid\":\"\",\"Sex\":\"男\",\"Dell\":false,\"CreateDate\":\"2016-05-06T14:59:39.8610143+08:00\","
//			       + "\"FenPeiDate\":\"1900-01-01T00:00:00\",\"CusID\":\"\",\"CusName\":\"宁夏隆盛大宗商品交易中心\"}";
        for(int p=1;p<5;p++){
//        	String getDate_json="{\"WorkingState\":\"\",\"CusID\":\"\",\"Source\":\"\",\"ResourcesState\":\"\",\"AllotNum\":-1,\"PageIndex\":"+p+",\"PageSize\":100,\"PageCount\":414682,\"Dell\":false,\"IsFenPang\":\"\",\"Name\":\"\",\"Phone\":\"\",\"TaskGuid\":\"b4026263-704e-4e12-a64d-f79cb42962cc\",\"DataType\":\"CustomerCompanyPages1\",\"Start_time\":\"1900-01-01T00:00:00\",\"End_time\":\"2900-01-01T00:00:00\",\"EmpGuid\":\"\",\"EmplName\":\"\",\"OrgId\":\"A3\",\"OrgName\":\"\",\"AllotStart\":\"1900-01-01T00:00:00\",\"AllotEnd\":\"2900-01-01T00:00:00\"}";
			String getDate_json="{\"TaskGuid\":\"b4026263-704e-4e12-a64d-f79cb42962cc\",\"DataType\":\"CustomerSellPages1\",\"_AcccountID\":\"\",\"Phone\":\"\",\"AllotNum\":-1,\"PageIndex\":"+p+",\"PageSize\":100,\"PageCount\":461024,\"WorkingState\":\"\",\"AllotStart\":\"1900-01-01T00:00:00\",\"AllotEnd\":\"2900-01-01T00:00:00\",\"BingDate\":\"1900-01-01T00:00:00\",\"EndDate\":\"2900-01-01T00:00:00\",\"BingMioao\":0,\"EndMiao\":0,\"AcccountID\":\"\",\"ID\":\"\",\"CusID\":\"\",\"CusName\":\"\",\"EmplGuid\":\"\",\"EmplName\":\"\",\"OrgID\":\"A3\",\"OrgName\":\"\",\"ReportDate\":\"2016-12-06T18:43:59.534494+08:00\",\"CreatDate\":\"0001-01-01T00:00:00\",\"PhoneState\":\"\",\"PlayFile\":null,\"Type\":\"\",\"ServiceEmpGuid\":\"\",\"ServiceEmpName\":\"\",\"Examine\":\"\",\"ResourcesState\":\"\",\"Source\":\"\"}";
        	java.lang.String _setData__return = new WebServiceSoap_WebServiceSoap_Client().getData(getDate_json);
//        	AppendFile.write("a.txt", "D://", getDate_json+"\n\r");
//        	AppendFile.write("a.txt", "D://", _setData__return+"\n\r");
        	JSONArray array=new JSONArray(_setData__return);
        	for(int i=0;i<array.length();i++){
        		JSONObject json=(JSONObject)array.get(i);
        		CRM_Entity2 entity=new CRM_Entity2();
        		entity.setDate(json.getString("CreateDate"));
        		entity.setMob(json.getString("Phone1"));
        		entity.setName(json.getString("CusName"));
        		entity.setSource(json.getString("Source"));
        		entity.setCode(json.getString("CusID"));
        		entity.setLurl(json.getString("l_url"));
        		entity.setRurl(json.getString("r_url"));
        	}
        }
//        System.exit(0);
    }

}
